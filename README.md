# Faketory
A simple implementation of the Factory pattern, build any number of elements with random values generated by Faker.

## Requirements
- Python >= 3.7
> IMPORTANT: This library depends on Faker. If by any chance you have any errors, make sure you have it installed. If you're using Python < 3.7, you can adapt this library by choosing any version of Faker that's compatible with your version and make it work.

## Installation
```sh
pip install faketory
```

## Installation for devs/contributors
1. Clone this repository.
2. Run `./install.sh`.

## Quick Start
1. Create `my_file.py`, then copy and paste this code:
```
from faketory.factory import Faketory
from faketory.fake import Fake


class MyModel:
    def __init__(self, age, name, email):
        self.age = age
        self.name = name
        self.email = email


class MyFactory(Faketory):
    age = Fake('pyint', min_value=18, max_value=120)
    email = Fake('email')
    name = Fake('name')

    class Meta:
        model = MyModel

print('************************ Block #1 ************************')
print(' () -> Build an instance with autogenerated values')
my_model = MyFactory()
print(f'My name is {my_model.name}')

print('************************ Block #2 ************************')

print(' (age=20) -> Custom value ')
my_model_custom = MyFactory(age=20)
print(f'My age is {my_model_custom.age}')  # 20

print('************************ Block #3 ************************')
print(' (_quantity=5) -> Builds a generator with 5 objects')
my_models = MyFactory(_quantity=5)
for my_mod in my_models:
    print(my_mod.age)

print('************************ Block #4 ************************')
print(' (_quantity=9, _list=True) -> Builds a list of 9 objects')
my_models_list = MyFactory(_quantity=9, _list=True)
print(f'There are {len(my_models_list)} elements')  # 9
for index, my_mod in enumerate(my_models_list):
    print(f'{index + 1} {my_mod.email}')

```
2. Run the file using `python my_file.py`.

## Django ORM example
You can pass any Django Model to `Faketory.Meta.model`, but if you want to save it to your database, make sure you pass `_resolver='save'` to your Faketory instance.
```
class SampleDjangoFactory(Faketory):
    email = Fake('email')
    name = Fake('name')

    class Meta:
        model = MyDjangoModel

my_django_instance = Factory(_resolver='save')

```

## Fake
This class simply calls the functions you get from Faker object, so you should check their docs. Here some examples:

### Generate a name

#### Faker
```
first_name = fake.name()
```
#### Fake
```
first_name = Fake('name')
```

### Generate a random number
#### Faker
```
age = fake.pyint(min_value=18, max_value=21)
```
#### Fake
```
age = Fake('pyint', min_value=18, max_value=21)
```

### Generate unique random numbers
#### Faker
```
numbers = set(fake.unique.random_int(min=1, max=10) for i in range(10))
```
#### Fake
```
numbers = set(Fake('unique.random_int', min=1, max=10) for i in range(10))
```

## Creator
Wαя€vเℓ
